import{d as U,l as k,c as i,f as t,q as I,m as _,u as R,o as l,r as S,w as V,t as v,h,v as w,n as O,F as E,p as D,g as L}from"./index-DFwemgHI.js";import{u as q}from"./fitness-CzgeNw8M.js";import{f as A}from"./formatters-DeZ-I65L.js";import{C as B,a as K,L as N,P as H,b as P,p as W,c as Y,d as Z,e as j}from"./index-LvpZPsXJ.js";import{_ as T}from"./_plugin-vue_export-helper-DlAUqK2U.js";const z={class:"exercise-chart-container"},G={class:"chart-wrapper"},J=U({__name:"ExerciseChart",props:{exercises:{}},setup(F){B.register(K,N,H,P,W,Y,Z);const u=F,a=n=>new Date(n).toLocaleDateString("ru-RU",{month:"long",year:"numeric"}),r=n=>{const p=new Date(n);return`${p.getFullYear()}-${String(p.getMonth()+1).padStart(2,"0")}`},c=k(()=>{if(!u.exercises.length)return{labels:[],datasets:[]};const n=[...u.exercises].sort((d,f)=>new Date(d.date).getTime()-new Date(f.date).getTime()),p=n.map(d=>a(d.date)),b=n.map(d=>d.weight),C=n.map(d=>d.calculatedOneRepMax),m=new Map;n.forEach(d=>{const f=r(d.date),$=m.get(f)||0;m.set(f,Math.max($,d.weight))});const x=n.map(d=>{const f=r(d.date);return m.get(f)||0}),g=new Date,o=r(g.toISOString());g.setMonth(g.getMonth()-1);const e=r(g.toISOString());m.get(o);const s=m.get(e)||0,y=[{label:"–í–µ—Å",data:b,borderColor:"#2196F3",backgroundColor:"rgba(33, 150, 243, 0.1)",tension:.4,pointRadius:4,pointHoverRadius:6,order:3},{label:"1RM (–æ–¥–Ω–æ–ø–æ–≤—Ç–æ—Ä–Ω—ã–π –º–∞–∫—Å–∏–º—É–º)",data:C,borderColor:"#9C27B0",backgroundColor:"rgba(156, 39, 176, 0.1)",tension:.4,pointRadius:4,pointHoverRadius:6,order:2},{label:"–ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π –≤–µ—Å –ø–æ –º–µ—Å—è—Ü–∞–º",data:x,borderColor:"#4CAF50",backgroundColor:"rgba(76, 175, 80, 0.1)",stepped:"before",tension:0,pointRadius:0,borderWidth:2,order:1}];return s>0&&y.push({label:`–ú–∞–∫—Å–∏–º—É–º –∑–∞ ${a(g.toISOString())}`,data:Array(b.length).fill(s),borderColor:"#FF9800",backgroundColor:"rgba(255, 152, 0, 0.1)",stepped:"before",tension:0,pointRadius:0,borderWidth:2,borderDash:[5,5],order:0}),{labels:p,datasets:y}}),M=k(()=>({responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:"top"},title:{display:!0,text:"–ü—Ä–æ–≥—Ä–µ—Å—Å –≤ –≤–µ—Å–µ"},tooltip:{mode:"index",intersect:!1,callbacks:{label:function(n){const p=n.dataset.label||"",b=n.parsed.y;return`${p}: ${b} –∫–≥`}}}},scales:{y:{beginAtZero:!0,title:{display:!0,text:"–í–µ—Å (–∫–≥)"}},x:{title:{display:!0,text:"–î–∞—Ç–∞"},ticks:{maxRotation:45,minRotation:45}}}}));return(n,p)=>(l(),i("div",z,[t("div",G,[c.value?(l(),I(R(j),{key:0,data:c.value,options:M.value},null,8,["data","options"])):_("",!0)])]))}}),Q=T(J,[["__scopeId","data-v-eb062a06"]]),X={class:"exercise-tracker"},ee={class:"container"},te={class:"card"},se={class:"form-header"},ae={class:"form-group"},oe={class:"form-group"},ne={class:"exercise-name-input"},le=["value"],re=["readonly"],ie={class:"form-group"},de={class:"form-group"},ue={type:"submit",class:"btn btn-primary"},ce={key:0,class:"exercise-charts"},pe={class:"exercise-history"},me={class:"filter-section"},ve=["value"],ge={key:0,class:"exercise-list"},be={class:"exercise-header"},fe={class:"exercise-info"},he={class:"date"},_e={class:"exercise-actions"},xe=["onClick"],ye=["onClick"],we={class:"exercise-details"},ke={class:"detail-item"},Me={class:"value"},Ce={class:"detail-item"},Se={class:"value"},Ee={class:"detail-item"},De={class:"value"},Re={key:1,class:"empty-state"},Fe=U({__name:"ExerciseTracker",setup(F){const u=q(),a=S({id:crypto.randomUUID(),name:"",date:new Date().toISOString().split("T")[0],weight:0,reps:0}),r=S(!1),c=S(""),M=(o,e)=>u.calculateOneRepMax(o,e),n=()=>{a.value={id:crypto.randomUUID(),name:"",date:new Date().toISOString().split("T")[0],weight:0,reps:0},r.value=!1},p=()=>{const o={id:a.value.id,name:a.value.name,date:a.value.date,weight:a.value.weight,reps:a.value.reps,calculatedOneRepMax:M(a.value.weight,a.value.reps)};r.value?u.updateExercise(o):u.addExercise(o),c.value=o.name,n()},b=o=>{a.value={id:o.id,name:o.name,date:o.date,weight:o.weight,reps:o.reps},r.value=!0,window.scrollTo({top:0,behavior:"smooth"})},C=o=>{confirm("–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ —É–¥–∞–ª–∏—Ç—å —ç—Ç–æ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ?")&&u.deleteExercise(o)},m=k(()=>{const o=new Set(u.exercises.map(e=>e.name));return Array.from(o).sort()}),x=k(()=>u.exercises.filter(o=>!c.value||o.name===c.value).sort((o,e)=>new Date(e.date).getTime()-new Date(o.date).getTime())),g=()=>{a.value.name===""&&(a.value.name="")};return(o,e)=>(l(),i("div",X,[t("div",ee,[t("div",te,[e[20]||(e[20]=t("h2",null,"–£–ø—Ä–∞–∂–Ω–µ–Ω–∏—è",-1)),t("form",{onSubmit:V(p,["prevent"]),class:"exercise-form"},[t("div",se,[t("h3",null,v(r.value?"–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è":"–ù–æ–≤–æ–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ"),1),r.value?(l(),i("button",{key:0,type:"button",class:"btn btn-secondary",onClick:n}," –û—Ç–º–µ–Ω–∏—Ç—å ")):_("",!0)]),t("div",ae,[e[6]||(e[6]=t("label",{for:"date"},"–î–∞—Ç–∞",-1)),h(t("input",{type:"date",id:"date","onUpdate:modelValue":e[0]||(e[0]=s=>a.value.date=s),class:"form-control",required:""},null,512),[[w,a.value.date]])]),t("div",oe,[e[8]||(e[8]=t("label",{for:"name"},"–ù–∞–∑–≤–∞–Ω–∏–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è",-1)),t("div",ne,[m.value.length&&!r.value?h((l(),i("select",{key:0,"onUpdate:modelValue":e[1]||(e[1]=s=>a.value.name=s),class:"form-control",onChange:g},[e[7]||(e[7]=t("option",{value:""},"–ù–æ–≤–æ–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ",-1)),(l(!0),i(E,null,D(m.value,s=>(l(),i("option",{key:s,value:s},v(s),9,le))),128))],544)),[[O,a.value.name]]):_("",!0),r.value||!a.value.name||!m.value.includes(a.value.name)?h((l(),i("input",{key:1,type:"text",id:"newExercise","onUpdate:modelValue":e[2]||(e[2]=s=>a.value.name=s),class:"form-control",readonly:r.value,placeholder:"–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è",required:""},null,8,re)),[[w,a.value.name]]):_("",!0)])]),t("div",ie,[e[9]||(e[9]=t("label",{for:"weight"},"–í–µ—Å (–∫–≥)",-1)),h(t("input",{type:"number",id:"weight","onUpdate:modelValue":e[3]||(e[3]=s=>a.value.weight=s),class:"form-control",step:"0.5",min:"0",required:""},null,512),[[w,a.value.weight]])]),t("div",de,[e[10]||(e[10]=t("label",{for:"reps"},"–ü–æ–≤—Ç–æ—Ä–µ–Ω–∏—è",-1)),h(t("input",{type:"number",id:"reps","onUpdate:modelValue":e[4]||(e[4]=s=>a.value.reps=s),class:"form-control",min:"1",required:""},null,512),[[w,a.value.reps]])]),t("button",ue,v(r.value?"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è":"–°–æ—Ö—Ä–∞–Ω–∏—Ç—å"),1)],32),c.value?(l(),i("div",ce,[L(Q,{exercises:R(u).exercises.filter(s=>s.name===c.value)},null,8,["exercises"])])):_("",!0),t("div",pe,[e[19]||(e[19]=t("h3",null,"–ò—Å—Ç–æ—Ä–∏—è —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–π",-1)),t("div",me,[e[12]||(e[12]=t("label",{for:"exerciseFilter"},"–§–∏–ª—å—Ç—Ä –ø–æ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—é:",-1)),h(t("select",{"onUpdate:modelValue":e[5]||(e[5]=s=>c.value=s),id:"exerciseFilter",class:"form-control"},[e[11]||(e[11]=t("option",{value:""},"–í—Å–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è",-1)),(l(!0),i(E,null,D(m.value,s=>(l(),i("option",{key:s,value:s},v(s),9,ve))),128))],512),[[O,c.value]])]),x.value.length?(l(),i("div",ge,[(l(!0),i(E,null,D(x.value,s=>(l(),i("div",{class:"exercise-item",key:s.id},[t("div",be,[t("div",fe,[t("h4",null,v(s.name),1),t("span",he,v(R(A)(s.date)),1)]),t("div",_e,[t("button",{class:"btn btn-icon",onClick:y=>b(s),title:"–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å"},e[13]||(e[13]=[t("span",null,"‚úèÔ∏è",-1)]),8,xe),t("button",{class:"btn btn-icon",onClick:y=>C(s.id),title:"–£–¥–∞–ª–∏—Ç—å"},e[14]||(e[14]=[t("span",null,"üóëÔ∏è",-1)]),8,ye)])]),t("div",we,[t("div",ke,[e[15]||(e[15]=t("span",{class:"label"},"–í–µ—Å:",-1)),t("span",Me,v(s.weight)+" –∫–≥",1)]),t("div",Ce,[e[16]||(e[16]=t("span",{class:"label"},"–ü–æ–≤—Ç–æ—Ä–µ–Ω–∏—è:",-1)),t("span",Se,v(s.reps),1)]),t("div",Ee,[e[17]||(e[17]=t("span",{class:"label"},"1RM:",-1)),t("span",De,v(s.calculatedOneRepMax)+" –∫–≥",1)])])]))),128))])):(l(),i("div",Re,e[18]||(e[18]=[t("p",null,"–ù–µ—Ç –∑–∞–ø–∏—Å–µ–π",-1)])))])])])]))}}),Ve=T(Fe,[["__scopeId","data-v-38369833"]]);export{Ve as default};
